"use strict";(self.webpackChunk_kiebitz_apps_ffm=self.webpackChunk_kiebitz_apps_ffm||[]).push([[2523],{"./node_modules/@headlessui/react/dist/components/dialog/dialog.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0;return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(it=o[Symbol.iterator]()).next.bind(it)}__webpack_require__.d(__webpack_exports__,{V:()=>Dialog});var Features,RenderStrategy,Keys,react=__webpack_require__("./node_modules/react/index.js");function match_esm_match(value,lookup){if(value in lookup){for(var returnValue=lookup[value],_len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];return"function"==typeof returnValue?returnValue.apply(void 0,args):returnValue}var error=new Error('Tried to handle "'+value+'" but there is no handler defined. Only defined handlers are: '+Object.keys(lookup).map((function(key){return'"'+key+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(error,match_esm_match),error}function render(_ref){var props=_ref.props,slot=_ref.slot,defaultTag=_ref.defaultTag,features=_ref.features,_ref$visible=_ref.visible,visible=void 0===_ref$visible||_ref$visible,name=_ref.name;if(visible)return _render(props,slot,defaultTag,name);var featureFlags=null!=features?features:Features.None;if(featureFlags&Features.Static){var _props$static=props.static,isStatic=void 0!==_props$static&&_props$static,rest=_objectWithoutPropertiesLoose(props,["static"]);if(isStatic)return _render(rest,slot,defaultTag,name)}if(featureFlags&Features.RenderStrategy){var _match,_props$unmount=props.unmount,unmount=void 0===_props$unmount||_props$unmount,_rest=_objectWithoutPropertiesLoose(props,["unmount"]);return match_esm_match(unmount?RenderStrategy.Unmount:RenderStrategy.Hidden,((_match={})[RenderStrategy.Unmount]=function(){return null},_match[RenderStrategy.Hidden]=function(){return _render(_extends({},_rest,{hidden:!0,style:{display:"none"}}),slot,defaultTag,name)},_match))}return _render(props,slot,defaultTag,name)}function _render(props,slot,tag,name){var _ref2;void 0===slot&&(slot={});var _omit=omit(props,["unmount","static"]),_omit$as=_omit.as,Component=void 0===_omit$as?tag:_omit$as,children=_omit.children,_omit$refName=_omit.refName,refName=void 0===_omit$refName?"ref":_omit$refName,passThroughProps=_objectWithoutPropertiesLoose(_omit,["as","children","refName"]),refRelatedProps=void 0!==props.ref?((_ref2={})[refName]=props.ref,_ref2):{},resolvedChildren="function"==typeof children?children(slot):children;if(passThroughProps.className&&"function"==typeof passThroughProps.className&&(passThroughProps.className=passThroughProps.className(slot)),Component===react.Fragment&&Object.keys(passThroughProps).length>0){if(!(0,react.isValidElement)(resolvedChildren)||Array.isArray(resolvedChildren)&&resolvedChildren.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+name+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(passThroughProps).map((function(line){return"  - "+line})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(line){return"  - "+line})).join("\n")].join("\n"));return(0,react.cloneElement)(resolvedChildren,Object.assign({},function mergeEventFunctions(passThroughProps,existingProps,functionsToMerge){for(var _step,clone=Object.assign({},passThroughProps),_loop=function _loop(){var _Object$assign,func=_step.value;void 0!==passThroughProps[func]&&void 0!==existingProps[func]&&Object.assign(clone,((_Object$assign={})[func]=function(event){event.defaultPrevented||passThroughProps[func](event),event.defaultPrevented||existingProps[func](event)},_Object$assign))},_iterator=_createForOfIteratorHelperLoose(functionsToMerge);!(_step=_iterator()).done;)_loop();return clone}(function compact(object){var clone=Object.assign({},object);for(var key in clone)void 0===clone[key]&&delete clone[key];return clone}(omit(passThroughProps,["ref"])),resolvedChildren.props,["onClick"]),refRelatedProps))}return(0,react.createElement)(Component,Object.assign({},omit(passThroughProps,["ref"]),Component!==react.Fragment&&refRelatedProps),resolvedChildren)}function forwardRefWithAs(component){var _component$displayNam;return Object.assign((0,react.forwardRef)(component),{displayName:null!=(_component$displayNam=component.displayName)?_component$displayNam:component.name})}function omit(object,keysToOmit){void 0===keysToOmit&&(keysToOmit=[]);for(var _step2,clone=Object.assign({},object),_iterator2=_createForOfIteratorHelperLoose(keysToOmit);!(_step2=_iterator2()).done;){var key=_step2.value;key in clone&&delete clone[key]}return clone}function useSyncRefs(){for(var _len=arguments.length,refs=new Array(_len),_key=0;_key<_len;_key++)refs[_key]=arguments[_key];var cache=(0,react.useRef)(refs);return(0,react.useEffect)((function(){cache.current=refs}),[refs]),(0,react.useCallback)((function(value){for(var _step,_iterator=_createForOfIteratorHelperLoose(cache.current);!(_step=_iterator()).done;){var ref=_step.value;null!=ref&&("function"==typeof ref?ref(value):ref.current=value)}}),[cache])}function isDisabledReactIssue7711(element){for(var _ref,_parent,parent=element.parentElement,legend=null;parent&&!(parent instanceof HTMLFieldSetElement);)parent instanceof HTMLLegendElement&&(legend=parent),parent=parent.parentElement;var isParentDisabled=null!=(_ref=""===(null==(_parent=parent)?void 0:_parent.getAttribute("disabled")))&&_ref;return(!isParentDisabled||!function isFirstLegend(element){if(!element)return!1;var previous=element.previousElementSibling;for(;null!==previous;){if(previous instanceof HTMLLegendElement)return!1;previous=previous.previousElementSibling}return!0}(legend))&&isParentDisabled}!function(Features){Features[Features.None=0]="None",Features[Features.RenderStrategy=1]="RenderStrategy",Features[Features.Static=2]="Static"}(Features||(Features={})),function(RenderStrategy){RenderStrategy[RenderStrategy.Unmount=0]="Unmount",RenderStrategy[RenderStrategy.Hidden=1]="Hidden"}(RenderStrategy||(RenderStrategy={})),function(Keys){Keys.Space=" ",Keys.Enter="Enter",Keys.Escape="Escape",Keys.Backspace="Backspace",Keys.ArrowLeft="ArrowLeft",Keys.ArrowUp="ArrowUp",Keys.ArrowRight="ArrowRight",Keys.ArrowDown="ArrowDown",Keys.Home="Home",Keys.End="End",Keys.PageUp="PageUp",Keys.PageDown="PageDown",Keys.Tab="Tab"}(Keys||(Keys={}));var state={serverHandoffComplete:!1};function useServerHandoffComplete(){var _useState=(0,react.useState)(state.serverHandoffComplete),serverHandoffComplete=_useState[0],setServerHandoffComplete=_useState[1];return(0,react.useEffect)((function(){!0!==serverHandoffComplete&&setServerHandoffComplete(!0)}),[serverHandoffComplete]),(0,react.useEffect)((function(){!1===state.serverHandoffComplete&&(state.serverHandoffComplete=!0)}),[]),serverHandoffComplete}var useIsoMorphicEffect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect,id=0;function generateId(){return++id}function useId(){var ready=useServerHandoffComplete(),_useState=(0,react.useState)(ready?generateId:null),id=_useState[0],setId=_useState[1];return useIsoMorphicEffect((function(){null===id&&setId(generateId())}),[id]),null!=id?""+id:void 0}function useWindowEvent(type,listener,options){var listenerRef=(0,react.useRef)(listener);listenerRef.current=listener,(0,react.useEffect)((function(){function handler(event){listenerRef.current.call(window,event)}return window.addEventListener(type,handler,options),function(){return window.removeEventListener(type,handler,options)}}),[type,options])}var Focus,FocusResult,Direction,FocusableMode,use_focus_trap_esm_Features,focusableSelector=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(selector){return selector+":not([tabindex='-1'])"})).join(",");function focusElement(element){null==element||element.focus({preventScroll:!0})}function focusIn(container,focus){var elements=Array.isArray(container)?container:function getFocusableElements(container){return void 0===container&&(container=document.body),null==container?[]:Array.from(container.querySelectorAll(focusableSelector))}(container),active=document.activeElement,direction=function(){if(focus&(Focus.First|Focus.Next))return Direction.Next;if(focus&(Focus.Previous|Focus.Last))return Direction.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),startIndex=function(){if(focus&Focus.First)return 0;if(focus&Focus.Previous)return Math.max(0,elements.indexOf(active))-1;if(focus&Focus.Next)return Math.max(0,elements.indexOf(active))+1;if(focus&Focus.Last)return elements.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),focusOptions=focus&Focus.NoScroll?{preventScroll:!0}:{},offset=0,total=elements.length,next=void 0;do{var _next;if(offset>=total||offset+total<=0)return FocusResult.Error;var nextIdx=startIndex+offset;if(focus&Focus.WrapAround)nextIdx=(nextIdx+total)%total;else{if(nextIdx<0)return FocusResult.Underflow;if(nextIdx>=total)return FocusResult.Overflow}null==(_next=next=elements[nextIdx])||_next.focus(focusOptions),offset+=direction}while(next!==document.activeElement);return next.hasAttribute("tabindex")||next.setAttribute("tabindex","0"),FocusResult.Success}function useFocusTrap(container,features,_temp){void 0===features&&(features=use_focus_trap_esm_Features.All);var _ref=void 0===_temp?{}:_temp,initialFocus=_ref.initialFocus,containers=_ref.containers,restoreElement=(0,react.useRef)("undefined"!=typeof window?document.activeElement:null),previousActiveElement=(0,react.useRef)(null),mounted=function useIsMounted(){var mounted=(0,react.useRef)(!1);return(0,react.useEffect)((function(){return mounted.current=!0,function(){mounted.current=!1}}),[]),mounted}(),featuresRestoreFocus=Boolean(features&use_focus_trap_esm_Features.RestoreFocus),featuresInitialFocus=Boolean(features&use_focus_trap_esm_Features.InitialFocus);(0,react.useEffect)((function(){featuresRestoreFocus&&(restoreElement.current=document.activeElement)}),[featuresRestoreFocus]),(0,react.useEffect)((function(){if(featuresRestoreFocus)return function(){focusElement(restoreElement.current),restoreElement.current=null}}),[featuresRestoreFocus]),(0,react.useEffect)((function(){if(featuresInitialFocus&&container.current){var activeElement=document.activeElement;if(null==initialFocus?void 0:initialFocus.current){if((null==initialFocus?void 0:initialFocus.current)===activeElement)return void(previousActiveElement.current=activeElement)}else if(container.current.contains(activeElement))return void(previousActiveElement.current=activeElement);(null==initialFocus?void 0:initialFocus.current)?focusElement(initialFocus.current):focusIn(container.current,Focus.First)===FocusResult.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),previousActiveElement.current=document.activeElement}}),[container,initialFocus,featuresInitialFocus]),useWindowEvent("keydown",(function(event){features&use_focus_trap_esm_Features.TabLock&&container.current&&event.key===Keys.Tab&&(event.preventDefault(),focusIn(container.current,(event.shiftKey?Focus.Previous:Focus.Next)|Focus.WrapAround)===FocusResult.Success&&(previousActiveElement.current=document.activeElement))})),useWindowEvent("focus",(function(event){if(features&use_focus_trap_esm_Features.FocusLock){var allContainers=new Set(null==containers?void 0:containers.current);if(allContainers.add(container),allContainers.size){var previous=previousActiveElement.current;if(previous&&mounted.current){var toElement=event.target;toElement&&toElement instanceof HTMLElement?!function contains(containers,element){for(var _step,_iterator=_createForOfIteratorHelperLoose(containers);!(_step=_iterator()).done;){var _container$current;if(null==(_container$current=_step.value.current)?void 0:_container$current.contains(element))return!0}return!1}(allContainers,toElement)?(event.preventDefault(),event.stopPropagation(),focusElement(previous)):(previousActiveElement.current=toElement,focusElement(toElement)):focusElement(previousActiveElement.current)}}}}),!0)}!function(Focus){Focus[Focus.First=1]="First",Focus[Focus.Previous=2]="Previous",Focus[Focus.Next=4]="Next",Focus[Focus.Last=8]="Last",Focus[Focus.WrapAround=16]="WrapAround",Focus[Focus.NoScroll=32]="NoScroll"}(Focus||(Focus={})),function(FocusResult){FocusResult[FocusResult.Error=0]="Error",FocusResult[FocusResult.Overflow=1]="Overflow",FocusResult[FocusResult.Success=2]="Success",FocusResult[FocusResult.Underflow=3]="Underflow"}(FocusResult||(FocusResult={})),function(Direction){Direction[Direction.Previous=-1]="Previous",Direction[Direction.Next=1]="Next"}(Direction||(Direction={})),function(FocusableMode){FocusableMode[FocusableMode.Strict=0]="Strict",FocusableMode[FocusableMode.Loose=1]="Loose"}(FocusableMode||(FocusableMode={})),function(Features){Features[Features.None=1]="None",Features[Features.InitialFocus=2]="InitialFocus",Features[Features.TabLock=4]="TabLock",Features[Features.FocusLock=8]="FocusLock",Features[Features.RestoreFocus=16]="RestoreFocus",Features[Features.All=30]="All"}(use_focus_trap_esm_Features||(use_focus_trap_esm_Features={}));var interactables=new Set,originals=new Map;function inert(element){element.setAttribute("aria-hidden","true"),element.inert=!0}function restore(element){var original=originals.get(element);original&&(null===original["aria-hidden"]?element.removeAttribute("aria-hidden"):element.setAttribute("aria-hidden",original["aria-hidden"]),element.inert=original.inert)}var ForcePortalRootContext=(0,react.createContext)(!1);function ForcePortalRoot(props){return react.createElement(ForcePortalRootContext.Provider,{value:props.force},props.children)}var react_dom=__webpack_require__("./node_modules/react-dom/index.js");function usePortalTarget(){var forceInRoot=function usePortalRoot(){return(0,react.useContext)(ForcePortalRootContext)}(),groupTarget=(0,react.useContext)(PortalGroupContext),_useState=(0,react.useState)((function(){if(!forceInRoot&&null!==groupTarget)return null;if("undefined"==typeof window)return null;var existingRoot=document.getElementById("headlessui-portal-root");if(existingRoot)return existingRoot;var root=document.createElement("div");return root.setAttribute("id","headlessui-portal-root"),document.body.appendChild(root)})),target=_useState[0],setTarget=_useState[1];return(0,react.useEffect)((function(){forceInRoot||null!==groupTarget&&setTarget(groupTarget.current)}),[groupTarget,setTarget,forceInRoot]),target}var DEFAULT_PORTAL_TAG=react.Fragment;function Portal(props){var passthroughProps=props,target=usePortalTarget(),element=(0,react.useState)((function(){return"undefined"==typeof window?null:document.createElement("div")}))[0],ready=useServerHandoffComplete();return useIsoMorphicEffect((function(){if(target&&element)return target.appendChild(element),function(){var _target$parentElement;target&&(element&&(target.removeChild(element),target.childNodes.length<=0&&(null==(_target$parentElement=target.parentElement)||_target$parentElement.removeChild(target))))}}),[target,element]),ready&&target&&element?(0,react_dom.createPortal)(render({props:passthroughProps,defaultTag:DEFAULT_PORTAL_TAG,name:"Portal"}),element):null}var DEFAULT_GROUP_TAG=react.Fragment,PortalGroupContext=(0,react.createContext)(null);Portal.Group=function Group(props){var target=props.target,passthroughProps=_objectWithoutPropertiesLoose(props,["target"]);return react.createElement(PortalGroupContext.Provider,{value:target},render({props:passthroughProps,defaultTag:DEFAULT_GROUP_TAG,name:"Popover.Group"}))};var DescriptionContext=(0,react.createContext)(null);function useDescriptionContext(){var context=(0,react.useContext)(DescriptionContext);if(null===context){var err=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(err,useDescriptionContext),err}return context}var State,Context=(0,react.createContext)(null);Context.displayName="OpenClosedContext",function(State){State[State.Open=0]="Open",State[State.Closed=1]="Closed"}(State||(State={}));var StackMessage,_reducers,DialogStates,ActionTypes,StackContext=(0,react.createContext)((function(){}));function StackProvider(_ref){var children=_ref.children,onUpdate=_ref.onUpdate,type=_ref.type,element=_ref.element,parentUpdate=function useStackContext(){return(0,react.useContext)(StackContext)}(),notify=(0,react.useCallback)((function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];null==onUpdate||onUpdate.apply(void 0,args),parentUpdate.apply(void 0,args)}),[parentUpdate,onUpdate]);return useIsoMorphicEffect((function(){return notify(StackMessage.Add,type,element),function(){return notify(StackMessage.Remove,type,element)}}),[notify,type,element]),react.createElement(StackContext.Provider,{value:notify},children)}StackContext.displayName="StackContext",function(StackMessage){StackMessage[StackMessage.Add=0]="Add",StackMessage[StackMessage.Remove=1]="Remove"}(StackMessage||(StackMessage={})),function(DialogStates){DialogStates[DialogStates.Open=0]="Open",DialogStates[DialogStates.Closed=1]="Closed"}(DialogStates||(DialogStates={})),function(ActionTypes){ActionTypes[ActionTypes.SetTitleId=0]="SetTitleId"}(ActionTypes||(ActionTypes={}));var reducers=((_reducers={})[ActionTypes.SetTitleId]=function(state,action){return state.titleId===action.id?state:_extends({},state,{titleId:action.id})},_reducers),DialogContext=(0,react.createContext)(null);function useDialogContext(component){var context=(0,react.useContext)(DialogContext);if(null===context){var err=new Error("<"+component+" /> is missing a parent <"+Dialog.displayName+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(err,useDialogContext),err}return context}function stateReducer(state,action){return match_esm_match(action.type,reducers,state,action)}DialogContext.displayName="DialogContext";var DialogRenderFeatures=Features.RenderStrategy|Features.Static,DialogRoot=forwardRefWithAs((function Dialog(props,ref){var _match,open=props.open,onClose=props.onClose,initialFocus=props.initialFocus,rest=_objectWithoutPropertiesLoose(props,["open","onClose","initialFocus"]),_useState=(0,react.useState)(0),nestedDialogCount=_useState[0],setNestedDialogCount=_useState[1],usesOpenClosedState=function useOpenClosed(){return(0,react.useContext)(Context)}();void 0===open&&null!==usesOpenClosedState&&(open=match_esm_match(usesOpenClosedState,((_match={})[State.Open]=!0,_match[State.Closed]=!1,_match)));var containers=(0,react.useRef)(new Set),internalDialogRef=(0,react.useRef)(null),dialogRef=useSyncRefs(internalDialogRef,ref),hasOpen=props.hasOwnProperty("open")||null!==usesOpenClosedState,hasOnClose=props.hasOwnProperty("onClose");if(!hasOpen&&!hasOnClose)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!hasOpen)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!hasOnClose)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof open)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+open);if("function"!=typeof onClose)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: "+onClose);var dialogState=open?DialogStates.Open:DialogStates.Closed,visible=null!==usesOpenClosedState?usesOpenClosedState===State.Open:dialogState===DialogStates.Open,_useReducer=(0,react.useReducer)(stateReducer,{titleId:null,descriptionId:null}),state=_useReducer[0],dispatch=_useReducer[1],close=(0,react.useCallback)((function(){return onClose(!1)}),[onClose]),setTitleId=(0,react.useCallback)((function(id){return dispatch({type:ActionTypes.SetTitleId,id})}),[dispatch]),enabled=useServerHandoffComplete()&&dialogState===DialogStates.Open,hasNestedDialogs=nestedDialogCount>1,hasParentDialog=null!==(0,react.useContext)(DialogContext);useFocusTrap(internalDialogRef,enabled?match_esm_match(hasNestedDialogs?"parent":"leaf",{parent:use_focus_trap_esm_Features.RestoreFocus,leaf:use_focus_trap_esm_Features.All}):use_focus_trap_esm_Features.None,{initialFocus,containers}),function useInertOthers(container,enabled){void 0===enabled&&(enabled=!0),useIsoMorphicEffect((function(){if(enabled&&container.current){var element=container.current;interactables.add(element);for(var _step,_iterator=_createForOfIteratorHelperLoose(originals.keys());!(_step=_iterator()).done;){var original=_step.value;original.contains(element)&&(restore(original),originals.delete(original))}return document.querySelectorAll("body > *").forEach((function(child){if(child instanceof HTMLElement){for(var _step2,_iterator2=_createForOfIteratorHelperLoose(interactables);!(_step2=_iterator2()).done;){var interactable=_step2.value;if(child.contains(interactable))return}1===interactables.size&&(originals.set(child,{"aria-hidden":child.getAttribute("aria-hidden"),inert:child.inert}),inert(child))}})),function(){if(interactables.delete(element),interactables.size>0)document.querySelectorAll("body > *").forEach((function(child){if(child instanceof HTMLElement&&!originals.has(child)){for(var _step3,_iterator3=_createForOfIteratorHelperLoose(interactables);!(_step3=_iterator3()).done;){var interactable=_step3.value;if(child.contains(interactable))return}originals.set(child,{"aria-hidden":child.getAttribute("aria-hidden"),inert:child.inert}),inert(child)}}));else for(var _step4,_iterator4=_createForOfIteratorHelperLoose(originals.keys());!(_step4=_iterator4()).done;){var _element=_step4.value;restore(_element),originals.delete(_element)}}}}),[enabled])}(internalDialogRef,!!hasNestedDialogs&&enabled),useWindowEvent("mousedown",(function(event){var _internalDialogRef$cu,target=event.target;dialogState===DialogStates.Open&&(hasNestedDialogs||(null==(_internalDialogRef$cu=internalDialogRef.current)?void 0:_internalDialogRef$cu.contains(target))||close())})),useWindowEvent("keydown",(function(event){event.key===Keys.Escape&&dialogState===DialogStates.Open&&(hasNestedDialogs||(event.preventDefault(),event.stopPropagation(),close()))})),(0,react.useEffect)((function(){if(dialogState===DialogStates.Open&&!hasParentDialog){var overflow=document.documentElement.style.overflow,paddingRight=document.documentElement.style.paddingRight,scrollbarWidth=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=scrollbarWidth+"px",function(){document.documentElement.style.overflow=overflow,document.documentElement.style.paddingRight=paddingRight}}}),[dialogState,hasParentDialog]),(0,react.useEffect)((function(){if(dialogState===DialogStates.Open&&internalDialogRef.current){var observer=new IntersectionObserver((function(entries){for(var _step,_iterator=_createForOfIteratorHelperLoose(entries);!(_step=_iterator()).done;){var entry=_step.value;0===entry.boundingClientRect.x&&0===entry.boundingClientRect.y&&0===entry.boundingClientRect.width&&0===entry.boundingClientRect.height&&close()}}));return observer.observe(internalDialogRef.current),function(){return observer.disconnect()}}}),[dialogState,internalDialogRef,close]);var _useDescriptions=function useDescriptions(){var _useState=(0,react.useState)([]),descriptionIds=_useState[0],setDescriptionIds=_useState[1];return[descriptionIds.length>0?descriptionIds.join(" "):void 0,(0,react.useMemo)((function(){return function DescriptionProvider(props){var register=(0,react.useCallback)((function(value){return setDescriptionIds((function(existing){return[].concat(existing,[value])})),function(){return setDescriptionIds((function(existing){var clone=existing.slice(),idx=clone.indexOf(value);return-1!==idx&&clone.splice(idx,1),clone}))}}),[]),contextBag=(0,react.useMemo)((function(){return{register,slot:props.slot,name:props.name,props:props.props}}),[register,props.slot,props.name,props.props]);return react.createElement(DescriptionContext.Provider,{value:contextBag},props.children)}}),[setDescriptionIds])]}(),describedby=_useDescriptions[0],DescriptionProvider=_useDescriptions[1],id="headlessui-dialog-"+useId(),contextBag=(0,react.useMemo)((function(){return[{dialogState,close,setTitleId},state]}),[dialogState,state,close,setTitleId]),slot=(0,react.useMemo)((function(){return{open:dialogState===DialogStates.Open}}),[dialogState]),propsWeControl={ref:dialogRef,id,role:"dialog","aria-modal":dialogState===DialogStates.Open||void 0,"aria-labelledby":state.titleId,"aria-describedby":describedby,onClick:function onClick(event){event.stopPropagation()}},passthroughProps=rest;return react.createElement(StackProvider,{type:"Dialog",element:internalDialogRef,onUpdate:(0,react.useCallback)((function(message,type,element){var _match2;"Dialog"===type&&match_esm_match(message,((_match2={})[StackMessage.Add]=function(){containers.current.add(element),setNestedDialogCount((function(count){return count+1}))},_match2[StackMessage.Remove]=function(){containers.current.add(element),setNestedDialogCount((function(count){return count-1}))},_match2))}),[])},react.createElement(ForcePortalRoot,{force:!0},react.createElement(Portal,null,react.createElement(DialogContext.Provider,{value:contextBag},react.createElement(Portal.Group,{target:internalDialogRef},react.createElement(ForcePortalRoot,{force:!1},react.createElement(DescriptionProvider,{slot,name:"Dialog.Description"},render({props:_extends({},passthroughProps,propsWeControl),slot,defaultTag:"div",features:DialogRenderFeatures,visible,name:"Dialog"}))))))))})),Overlay=forwardRefWithAs((function Overlay(props,ref){var _useDialogContext$=useDialogContext([Dialog.displayName,Overlay.name].join("."))[0],dialogState=_useDialogContext$.dialogState,close=_useDialogContext$.close,overlayRef=useSyncRefs(ref),id="headlessui-dialog-overlay-"+useId(),handleClick=(0,react.useCallback)((function(event){if(event.target===event.currentTarget){if(isDisabledReactIssue7711(event.currentTarget))return event.preventDefault();event.preventDefault(),event.stopPropagation(),close()}}),[close]),slot=(0,react.useMemo)((function(){return{open:dialogState===DialogStates.Open}}),[dialogState]);return render({props:_extends({},props,{ref:overlayRef,id,"aria-hidden":!0,onClick:handleClick}),slot,defaultTag:"div",name:"Dialog.Overlay"})}));var Dialog=Object.assign(DialogRoot,{Overlay,Title:function Title(props){var _useDialogContext2$=useDialogContext([Dialog.displayName,Title.name].join("."))[0],dialogState=_useDialogContext2$.dialogState,setTitleId=_useDialogContext2$.setTitleId,id="headlessui-dialog-title-"+useId();(0,react.useEffect)((function(){return setTitleId(id),function(){return setTitleId(null)}}),[id,setTitleId]);var slot=(0,react.useMemo)((function(){return{open:dialogState===DialogStates.Open}}),[dialogState]);return render({props:_extends({},props,{id}),slot,defaultTag:"h2",name:"Dialog.Title"})},Description:function Description(props){var context=useDescriptionContext(),id="headlessui-description-"+useId();useIsoMorphicEffect((function(){return context.register(id)}),[id,context.register]);var passThroughProps=props,propsWeControl=_extends({},context.props,{id});return render({props:_extends({},passThroughProps,propsWeControl),slot:context.slot||{},defaultTag:"p",name:context.name||"Description"})}})}}]);