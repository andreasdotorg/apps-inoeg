"use strict";(self.webpackChunk_kiebitz_apps_ffm=self.webpackChunk_kiebitz_apps_ffm||[]).push([[1359],{"./src/apps/user/finder/LocationStep.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default});__webpack_require__("./node_modules/react/index.js");var _common_UserApiContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/apps/user/common/UserApiContext.tsx"),_FinderStateProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/apps/user/finder/FinderStateProvider.tsx"),_LocationStep__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/apps/user/finder/LocationStep.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_LocationStep__WEBPACK_IMPORTED_MODULE_3__.Z};const Default=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_common_UserApiContext__WEBPACK_IMPORTED_MODULE_1__.S,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_FinderStateProvider__WEBPACK_IMPORTED_MODULE_2__.L$,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_LocationStep__WEBPACK_IMPORTED_MODULE_3__.Z,{})})});Default.displayName="Default",Default.parameters={storySource:{source:"() => (\n    <UserApiProvider>\n        <FinderStateProvider>\n            <LocationStep />\n        </FinderStateProvider>\n    </UserApiProvider>\n)"},...Default.parameters}},"./src/apps/common/BackLink.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>BackLink});var _carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@carbon/icons-react/es/__generated__/bucket-1.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),ui__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/ui/index.ts")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const BackLink=_ref=>{let{children,className,...props}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ui__WEBPACK_IMPORTED_MODULE_1__.rU,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)("hidden md:inline-flex md:absolute md:top-10 md:left-4 md:gap-8 md:book",className),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__._V8,{})," ",children]})};BackLink.displayName="BackLink";try{BackLink.displayName="BackLink",BackLink.__docgenInfo={description:"",displayName:"BackLink",props:{external:{defaultValue:null,description:"",name:"external",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"link"'}]}},href:{defaultValue:null,description:"",name:"href",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/common/BackLink.tsx#BackLink"]={docgenInfo:BackLink.__docgenInfo,name:"BackLink",path:"src/apps/common/BackLink.tsx#BackLink"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/common/ProviderCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>ProviderCard});var _carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@carbon/icons-react/es/__generated__/bucket-0.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),ui__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/ui/index.ts")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ProviderCard=_ref=>{let{provider,className}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)("flex justify-between p-4 rounded-2xl border-2 border-black","hover:border-highlight hover:shadow-provider",className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ui__WEBPACK_IMPORTED_MODULE_1__.Dx,{variant:"h3",children:provider.name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("address",{children:[provider.street,", ",provider.zipCode," ",provider.city]})]}),provider.accessible&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__.JUI,{})]},provider.id)};ProviderCard.displayName="ProviderCard";try{ProviderCard.displayName="ProviderCard",ProviderCard.__docgenInfo={description:"",displayName:"ProviderCard",props:{provider:{defaultValue:null,description:"",name:"provider",required:!0,type:{name:"PublicProvider"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/common/ProviderCard.tsx#ProviderCard"]={docgenInfo:ProviderCard.__docgenInfo,name:"ProviderCard",path:"src/apps/common/ProviderCard.tsx#ProviderCard"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/user/common/UserApiContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>UserApiProvider,k:()=>useUserApi});var data=__webpack_require__("./src/apps/data.ts"),buffer=__webpack_require__("./node_modules/buffer/index.js");const b642buf=base64=>buffer.Buffer.from(base64);var helpers_crypto=__webpack_require__("./src/helpers/crypto.ts"),dist=__webpack_require__("./node_modules/vanellus/dist/index.js"),backend=__webpack_require__("./src/backend/backend.ts");class UserApi{constructor(){this.user=new dist.User("main",backend.y)}async getProvidersByZip(zipCode){return data.a}async getAppointmentsByProvider(providerId,from,to){return data._}async getAppointmentsByZipCode(zipCode){return data._}async getAppointment(id,providerId){return data._[Number(id)-1]?data._[Number(id)-1]:null}async bookAppointment(appointmentId,providerID){return(0,helpers_crypto.GE)(b642buf((0,helpers_crypto.O6)(10)))}async cancelAppointment(appointmentId,providerID){return!0}}var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const UserApiContext=(0,react.createContext)(void 0),UserApiProvider=_ref=>{let{children}=_ref;const api=new UserApi;return(0,jsx_runtime.jsx)(UserApiContext.Provider,{value:{api},children})};UserApiProvider.displayName="UserApiProvider";const useUserApi=()=>{const context=(0,react.useContext)(UserApiContext);if(void 0===context)throw new Error("You cant use useUserApi without UserApiProvider!");return context.api};try{UserApiProvider.displayName="UserApiProvider",UserApiProvider.__docgenInfo={description:"",displayName:"UserApiProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/user/common/UserApiContext.tsx#UserApiProvider"]={docgenInfo:UserApiProvider.__docgenInfo,name:"UserApiProvider",path:"src/apps/user/common/UserApiContext.tsx#UserApiProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/user/finder/FinderStateProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yk:()=>Types,L$:()=>FinderStateProvider,Ri:()=>useFinderState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");let Types;!function(Types){Types.SET_DATE="SET_DATE",Types.SET_PROVIDER="SET_PROVIDER",Types.SET_APPOINTMENT="SET_APPOINTMENT"}(Types||(Types={}));const initialState={date:new Date,provider:null,appointment:null},reducer=(state,action)=>{switch(action.type){case Types.SET_DATE:return{...state,date:action.payload.date};case Types.SET_PROVIDER:return{...state,provider:action.payload.provider};case Types.SET_APPOINTMENT:return{...state,appointment:action.payload.appointment};default:return state}},FinderStateContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0),FinderStateProvider=_ref=>{let{children}=_ref;const[state,dispatch]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer,initialState);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FinderStateContext.Provider,{value:{state,dispatch},children})};FinderStateProvider.displayName="FinderStateProvider";const useFinderState=()=>{const context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(FinderStateContext);if(void 0===context)throw new Error("You cant use useFinderState without FinderStateProvider!");return context};try{FinderStateProvider.displayName="FinderStateProvider",FinderStateProvider.__docgenInfo={description:"",displayName:"FinderStateProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/user/finder/FinderStateProvider.tsx#FinderStateProvider"]={docgenInfo:FinderStateProvider.__docgenInfo,name:"FinderStateProvider",path:"src/apps/user/finder/FinderStateProvider.tsx#FinderStateProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/user/finder/LocationStep.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>LocationStep});var _lingui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@lingui/react/esm/index.js"),_lingui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@lingui/core/esm/index.js"),apps_common_BackLink__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/apps/common/BackLink.tsx"),apps_common_ProviderCard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/apps/common/ProviderCard.tsx"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/ui/index.ts"),ui_CheckboxField__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/ui/CheckboxField.tsx"),_common_UserApiContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/apps/user/common/UserApiContext.tsx"),_FinderStateProvider__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/apps/user/finder/FinderStateProvider.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");const LocationStep=()=>{const[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),[filterAccessible,setFilterAccessible]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[providers,setProviders]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),api=(0,_common_UserApiContext__WEBPACK_IMPORTED_MODULE_5__.k)(),{dispatch,state}=(0,_FinderStateProvider__WEBPACK_IMPORTED_MODULE_6__.Ri)();(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{api.getProvidersByZip(30363,10).then((providers=>{setLoading(!1),setProviders(providers)}))}),[api]);const onClick=event=>{const id=event.currentTarget.dataset.id;dispatch({type:_FinderStateProvider__WEBPACK_IMPORTED_MODULE_6__.Yk.SET_PROVIDER,payload:{provider:providers[Number(id)-1]}})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("main",{id:"finder-location",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(apps_common_BackLink__WEBPACK_IMPORTED_MODULE_0__.h,{href:"/user",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_lingui_react__WEBPACK_IMPORTED_MODULE_8__.cC,{id:"user.finder.location.back-link"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(ui__WEBPACK_IMPORTED_MODULE_3__.Dx,{variant:"h1",as:"h2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_lingui_react__WEBPACK_IMPORTED_MODULE_8__.cC,{id:"user.finder.location.title"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(ui__WEBPACK_IMPORTED_MODULE_3__.xv,{variant:"text2",className:"mb-8",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_lingui_react__WEBPACK_IMPORTED_MODULE_8__.cC,{id:"user.finder.location.intro"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"mx-4 mb-8 md:max-w-3xl lg:mx-8",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(ui_CheckboxField__WEBPACK_IMPORTED_MODULE_4__.j,{label:_lingui_core__WEBPACK_IMPORTED_MODULE_9__.ag._({id:"user.finder.location.accessible.label",message:"Nur barrierefreie Impfstellen"}),name:"accessible",onChange:event=>{setFilterAccessible(event.currentTarget.checked)}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("ul",{className:"flex flex-col gap-4 w-full md:px-0 md:max-w-3xl",children:providers.filter((provider=>!filterAccessible||provider.accessible)).map((provider=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(ui__WEBPACK_IMPORTED_MODULE_3__.rU,{href:"/user/finder/appointment",className:"w-full no-underline ",onClick,"data-id":provider.id,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(apps_common_ProviderCard__WEBPACK_IMPORTED_MODULE_1__.F,{provider})})},provider.id)))})]})};LocationStep.displayName="LocationStep";try{LocationStep.displayName="LocationStep",LocationStep.__docgenInfo={description:"",displayName:"LocationStep",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/user/finder/LocationStep.tsx#LocationStep"]={docgenInfo:LocationStep.__docgenInfo,name:"LocationStep",path:"src/apps/user/finder/LocationStep.tsx#LocationStep"})}catch(__react_docgen_typescript_loader_error){}},"./src/backend/backend.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>backend});var vanellus__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/vanellus/dist/index.js");const store=new vanellus__WEBPACK_IMPORTED_MODULE_0__.StorageStore(new vanellus__WEBPACK_IMPORTED_MODULE_0__.InMemoryStorage),temporaryStore=new vanellus__WEBPACK_IMPORTED_MODULE_0__.StorageStore(new vanellus__WEBPACK_IMPORTED_MODULE_0__.InMemoryStorage),backend=new vanellus__WEBPACK_IMPORTED_MODULE_0__.Backend({appointment:{properties:{}},apiUrls:{storage:"https://storage.kiebitz.eu/jsonrpc",appointments:"https://appointments.kiebitz.eu/jsonrpc"}},store,temporaryStore)},"./src/ui/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>Checkbox});var clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Checkbox=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(((_ref,ref)=>{let{className,...props}=_ref;const id=props.id?props.id:props.name;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("input",{id,className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.Z)("checkbox",className),type:"checkbox",...props,ref})}));Checkbox.displayName="Checkbox";try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ui/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/ui/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/ui/CheckboxField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>CheckboxField});var clsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_Checkbox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ui/Checkbox.tsx"),_Field__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ui/Field.tsx"),_Label__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/ui/Label.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const CheckboxField=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(((_ref,ref)=>{let{name,label,description,className,required,...props}=_ref;const id=props.id?props.id:name;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_Field__WEBPACK_IMPORTED_MODULE_2__.g,{id,name,description,required,className:(0,clsx__WEBPACK_IMPORTED_MODULE_5__.Z)(className),inline:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Checkbox__WEBPACK_IMPORTED_MODULE_1__.X,{id,required,name,...props,ref}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Label__WEBPACK_IMPORTED_MODULE_3__._,{htmlFor:id,className:"select-none",children:label})]})}));CheckboxField.displayName="CheckboxField";try{CheckboxField.displayName="CheckboxField",CheckboxField.__docgenInfo={description:"",displayName:"CheckboxField",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"enum",value:[{value:'"p"'},{value:'"div"'},{value:'"label"'},{value:'"span"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ui/CheckboxField.tsx#CheckboxField"]={docgenInfo:CheckboxField.__docgenInfo,name:"CheckboxField",path:"src/ui/CheckboxField.tsx#CheckboxField"})}catch(__react_docgen_typescript_loader_error){}}}]);